<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>나만의 가타카나 도서관</title>
  <link rel="stylesheet" href="css/katakana.css">
  <style>
    body { background: #f8fafd; font-family: 'Noto Sans KR', Arial, sans-serif; margin: 0; padding: 0; }
    .library-container { max-width: 700px; margin: 40px auto; background: #fff; border-radius: 16px; box-shadow: 0 4px 24px #0001; padding: 32px; }
    h1 { text-align: center; margin-bottom: 16px; }
    .move-btns { text-align: center; margin-bottom: 32px; }
    .move-btns button { margin: 0 8px; padding: 10px 24px; border-radius: 8px; border: none; background: #e0e0ff; color: #333; font-weight: bold; cursor: pointer; font-size: 1.1rem; transition: background 0.2s; }
    .move-btns button:hover { background: #bdbdfc; }
    .section-title { margin-top: 32px; font-size: 1.3rem; color: #444; border-bottom: 1px solid #eee; padding-bottom: 4px; }
    .card-list { display: flex; flex-wrap: wrap; gap: 16px; margin-top: 16px; }
    .card { background: #f3f6ff; border-radius: 10px; box-shadow: 0 2px 8px #0001; padding: 18px 20px; min-width: 120px; flex: 1 1 180px; text-align: center; }
    .card .main { font-size: 2.2rem; font-weight: bold; margin-bottom: 8px; }
    .card .pron { font-size: 1.1rem; color: #666; margin-bottom: 4px; }
    .card .mean { font-size: 1rem; color: #888; margin-bottom: 4px; }
    .card .wrong { font-size: 0.95rem; color: #e55; font-weight: bold; }
    @media (max-width: 600px) { .library-container { padding: 10px; } .card { min-width: 90px; padding: 10px 6px; } }
  </style>
</head>
<body>
  <div class="library-container">
    <h1>나만의 가타카나 도서관</h1>
    <div class="move-btns">
      <button onclick="location.href='../hiragana/hiragana_library.html'">히라가나 도서관으로 이동</button>
      <button onclick="location.href='katakana.html'">가타카나 메인으로</button>
    </div>
    <div class="section-title">글자</div>
    <div id="char-list" class="card-list"></div>
    <div class="section-title">단어</div>
    <div id="word-list" class="card-list"></div>
  </div>
  <script>
    // 글자
    const wrongChar = JSON.parse(localStorage.getItem('katakanaTextWrongCounts') || '{}');
    const charList = document.getElementById('char-list');
    let charHtml = '';
    for (const key in wrongChar) {
      if (wrongChar[key] >= 5) {
        const [char, pron] = key.split('|');
        charHtml += `<div class='card'><div class='main'>${char}</div><div class='pron'>${pron}</div><div class='wrong'>틀린 횟수: ${wrongChar[key]}</div></div>`;
      }
    }
    charList.innerHTML = charHtml || '<div style="color:#aaa;">5회 이상 틀린 글자가 없습니다.</div>';
    // 단어
    const wrongWord = JSON.parse(localStorage.getItem('katakanaWordWrongCounts') || '{}');
    const wordList = document.getElementById('word-list');
    let wordHtml = '';
    for (const key in wrongWord) {
      if (wrongWord[key] >= 5) {
        const [word, pron] = key.split('|');
        wordHtml += `<div class='card'><div class='main'>${word}</div><div class='pron'>${pron}</div><div class='mean'>뜻: -</div><div class='wrong'>틀린 횟수: ${wrongWord[key]}</div></div>`;
      }
    }
    wordList.innerHTML = wordHtml || '<div style="color:#aaa;">5회 이상 틀린 단어가 없습니다.</div>';
  </script>
</body>
</html> 