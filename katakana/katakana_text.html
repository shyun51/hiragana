<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>가타카나 암기 퀴즈</title>
  
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-Y23H9MYEP7"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-Y23H9MYEP7');
  </script>
  
  <link rel="stylesheet" href="../common/css/common.css"/>
  <link rel="stylesheet" href="css/katakana_text.css"/>
</head>
<body>
  <h6>(insta)sl_hye0n에서 설문조사 한 번 씩 부탁드려요!</h6>

  <div class="game-container">
    <!-- 행 선택 화면 -->
    <div id="selection-screen" class="screen">
      <header class="game-header">
        <img src="../welshcorgi.png" alt="웰시코기" class="corgi-title-img"/>
        <h1>가타카나 행 선택</h1>
      </header>
      <p>연습할 가타카나 행을 선택하세요:</p>
      
      <div class="selection-controls">
        <button type="button" id="show-selected-rows" class="btn">현재 선택한 행 보기</button>
        <div id="selected-rows-list" class="selected-list"></div>
        <button type="button" id="toggle-row-selection" class="btn">행 선택 펼치기 ▼</button>
      </div>

      <div id="row-selection-accordion" class="accordion-content">
        <div class="selection-buttons">
          <button type="button" id="select-all" class="btn">모두 선택</button>
          <button type="button" id="deselect-all" class="btn">모두 취소</button>
        </div>
        <form id="row-selection-form">
          <div class="row-selection-container">
            <!-- 기본 10개 행 -->
            <div class="row-button">
              <input type="checkbox" id="row_a"  name="rows" value="ア行" checked>
              <label for="row_a">아행 (ア行)</label>
            </div>
            <div class="row-button">
              <input type="checkbox" id="row_ka" name="rows" value="カ行" checked>
              <label for="row_ka">카행 (カ行)</label>
            </div>
            <div class="row-button">
              <input type="checkbox" id="row_sa" name="rows" value="サ行" checked>
              <label for="row_sa">사행 (サ行)</label>
            </div>
            <div class="row-button">
              <input type="checkbox" id="row_ta" name="rows" value="タ行" checked>
              <label for="row_ta">타행 (タ行)</label>
            </div>
            <div class="row-button">
              <input type="checkbox" id="row_na" name="rows" value="ナ行" checked>
              <label for="row_na">나행 (ナ行)</label>
            </div>
            <div class="row-button">
              <input type="checkbox" id="row_ha" name="rows" value="ハ行" checked>
              <label for="row_ha">하행 (ハ行)</label>
            </div>
            <div class="row-button">
              <input type="checkbox" id="row_ma" name="rows" value="マ行" checked>
              <label for="row_ma">마행 (マ行)</label>
            </div>
            <div class="row-button">
              <input type="checkbox" id="row_ya" name="rows" value="ヤ行" checked>
              <label for="row_ya">야행 (ヤ行)</label>
            </div>
            <div class="row-button">
              <input type="checkbox" id="row_ra" name="rows" value="ラ行" checked>
              <label for="row_ra">라행 (ラ行)</label>
            </div>
            <div class="row-button">
              <input type="checkbox" id="row_wa" name="rows" value="ワ行" checked>
              <label for="row_wa">와행 (ワ行)</label>
            </div>
            <!-- 특수음 -->
            <div class="row-button">
              <input type="checkbox" id="row_dakuten"   name="rows" value="탁음">
              <label for="row_dakuten">탁음</label>
            </div>
            <div class="row-button">
              <input type="checkbox" id="row_handakuten" name="rows" value="반탁음">
              <label for="row_handakuten">반탁음</label>
            </div>
            <div class="row-button">
              <input type="checkbox" id="row_youon"     name="rows" value="요음">
              <label for="row_youon">요음</label>
            </div>
            <div class="row-button">
              <input type="checkbox" id="row_sokuon"    name="rows" value="촉음">
              <label for="row_sokuon">촉음</label>
            </div>
            <div class="row-button">
              <input type="checkbox" id="row_choon"     name="rows" value="장음">
              <label for="row_choon">장음</label>
            </div>
          </div>
        </form>
      </div>
      <button type="button" id="start-quiz" class="btn btn-primary">퀴즈 시작</button>
      <div class="nav-btns">
        <a href="katakana.html" class="btn">← 이전으로</a>
        <a href="../index.html" class="btn">처음으로</a>
      </div>
    </div>

    <!-- 퀴즈 화면 -->
    <div id="quiz-screen" class="screen" style="display: none;">
      <header class="game-header">
        <img src="../welshcorgi.png" alt="웰시코기" class="corgi-title-img"/>
        <h1>가타카나 암기 퀴즈</h1>
      </header>
      <div class="score-board">
        <span id="streak-counter">연속 정답: 0</span>
        <span id="best-counter">전체 최고 기록: 0</span>
        <span id="combo-best-counter">이 조합의 최고 기록: 0</span>
      </div>
      <div id="current-selection" class="current-selection"></div>

      <div id="katakana-display"></div>
      <input type="text" id="answer-input" placeholder="답을 입력하세요...">
      <div class="hint-text">장음은 - ( 마이너스 ) 로 표시</div>
      <div id="feedback"></div>

      <div class="quiz-controls">
        <button id="submit-answer" class="btn btn-primary">확인</button>
        <button id="home-button" class="btn">HOME</button>
        <button id="humor-button" class="btn">유머모드 Off</button>
        <button id="humor-help-button" class="btn btn-icon">?</button>
      </div>
      
      <div class="nav-btns">
        <a href="katakana.html" class="btn">← 이전으로</a>
        <a href="../index.html" class="btn">처음으로</a>
      </div>
    </div>
  </div>

  <script type="module" src="js/katakana_text.js"></script>
</body>
</html>